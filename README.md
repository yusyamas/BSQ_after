Author: yusyamas (42Tokyo C Piscine 2022/10 Fail)

Makefile: 
    make:
        実行ファイルbsq, ジェネレータgen,error, チェッカーcheckを作成。
    make maptest:
        ./test_gen.shを実行し、正しいmap22パターンをmapディレクトリにmapXX.txtの形で出力し、
        作成したmapのパス全部をコマンドライン引数に追加し、./bsqを実行する
        (ファイル書き出しまたは標準出力書き出しに時間がかかり、やや時間がかかる total 30台sec)
    make error:
        不正なmapパターン16通りを作成するジェネレータerrorを作成する
        (./error x yの実行結果によりmaperrorディレクトリにmapが作成されるので実行する必要がある)
    make errortest:
        エラーファイルのパス16個をコマンドライン引数に追加し、./bsqを実行する
    その他のルールはいつもと同様に実装

全体の変更点:
    realloc:
        ファイルの中身の文字列を定数で動的確保し、サイズが足りない時に拡大せずエラーを起こしていたので、
        最初サイズ16で動的確保し、都度サイズが足りなかったら拡大する方針で実装した
        (2倍のサイズで動的確保し、strlcpyでコピーし、元の文字列を解放した)
    square: (math2)
        最大サイズの正方形を探索する過程で、これ以上大きい正方形が見つからない状態になった時に
        処理を終了させるように実装
    入力の1行目の判定:
        yが2桁以上に対応していなかったのでto_stringを再実装しto_string(y),abc,\nのフォーマット
        で入力の1行目と2行目以降に問題が存在するか色々判定させるように実装
    入力と構造体情報への受け渡し:
        全体をそのままのbuffの状態でrule,gridを作成して滅茶苦茶になっていたので
        1行目をbuff_headに格納し、その情報からruleを作成
        2行目以降をbuff_mapに格納し、その情報からgridに変換する方針に変更
    malloc,freeの各種チェックについて
        bsq.hのコメントアウト部分を解除するとfreeのし忘れを確認することができるようにした
        その過程で必要だったleak判定用のプログラムを追加した
    
注意点,変更すべきかもしれない点:
    全体:
        関数の切り分けだったり、配置だったり、処理順番等が複雑なため、ましな書き方は考えた方がいいかも
    inputのstr_head:
        mallocに失敗した時に0を返させているため意図しないmap errorが出力される可能性がある
        動的確保失敗についての処理について示されていないため、error出力させるか
        whileで確保できるまでmallocし続けるべきか悩む
    コマンドライン引数が1の場合:
        今回の処理では直接与えられたmap1つに対し、処理し出力し終了する
        シェルのようにnull(Ctrl + D)1文字のみが与えられた時のみ終了として
        それ以外は処理と出力後に入力の待機状態に戻す方針にするべきかはわからない

./bsqの入力フォーマット:
    yabc\n
    (((a|b)*x)\n) *y
    1行目
        y : 2行目以降のmapの縦の長さ
        a : 空白文字
        b : 障害物文字
        c : 空白に埋める文字
    2行目以降
        aまたはbがx文字と改行の1行(1行毎にランダム)がy行繋がったもの

./genの入力フォーマット:
    ./gen (fかそれ以外) 0~4 0~2 0~100 filepath
    コマンドライン引数argc = 6になるように入力する
    1つめ: どこに出力するか
        fならfilepathにファイル出力 それ以外なら標準出力
    2つめ: mapサイズ
        0 : 1*1
        1 : 2~9 * 2~9
        2 : 10~99 * 10 * 99
        3 : 100~999 * 100~999
        4 : 1000~1200 * 1000~1200
    3つめ : mapのa,bの大雑把な占有率
        0 : 全て空白
        1 : 全て障害物
        2 : どちらも存在
    4つめ : mapのa,bの割合(おおよその)
        0~100%
    5つめ : ファイルパス

./errorの入力フォーマット:
    ./error x y
    xとyを決めたら16パターンのmapをファイル出力する

./map/のmapファイルのパターンについて: 
    00 : 1*1の空白
    01 : 1*1の障害物
    02~06 : x,yがそれぞれ2~9のmap
        02 : 全部空白
        03 : 全部障害物
        04 : (空白:障害物) = (およそ2:8)
        05 : (空白:障害物) = (およそ5:5)
        06 : (空白:障害物) = (およそ8:2)
    07~11 : x,yがそれぞれ10~99のmap
        07 : 全部空白
        08 : 全部障害物
        09 : (空白:障害物) = (およそ2:8)
        10 : (空白:障害物) = (およそ5:5)
        11 : (空白:障害物) = (およそ8:2)
    12~16 : x,yがそれぞれ100~999のmap
        12 : 全部空白
        13 : 全部障害物
        14 : (空白:障害物) = (およそ2:8)
        15 : (空白:障害物) = (およそ5:5)
        16 : (空白:障害物) = (およそ8:2)
    17~21 : x,yがそれぞれ1000~1200のmap
        17 : 全部空白
        18 : 全部障害物
        19 : (空白:障害物) = (およそ2:8)
        20 : (空白:障害物) = (およそ5:5)
        21 : (空白:障害物) = (およそ8:2)

./maperror/のmapファイルのパターンについて:
    00 : 1行目のルールがない
    01 : 1行目のルールしかない
    02 : 1行目のyの間違い(桁は一致)
    03 : yがない
    04 : 1行目のyの間違い(桁不一致)
    05~07 : 1行目のabcの文字数の変化
        05 : abcが2文字
        06 : abcが1文字
        07 : abcが0文字
    08~11 : abcの一致
        08: abcがaabに
        09: abcがabbに
        10: abcがabaに
        11: abcがaaaに
    12 : 各行ごとの文字数のxとの不一致
    13~15 : 1行目と2行目以降の文字の不一致
        13 : mapの文字がaとbでなく、aとcに
        14 : mapの文字がaとbでなく、bとcに
        15 : mapの文字がaとbでなく、ランダムな2文字に

./checkのフォーマットについて:
    ./bsq (filepath) > test.txtでtest.txtに書き出して、
    test.txtをcheckに通すことにより、正しいかを判定する
    各行の文字数がおかしいパターンのエラーチェックはしていない
    ./check y abc
    コマンドライン引数は2つ
    y : 縦の長さ
    abc : a = 空白文字, b = 障害物文字, c = 埋める文字
    二次元配列を用意し、abcを012に置き換えた後に解答のBSQの1辺の長さを調べて、
    その後BSQの左上頂点の(i,j)より今見ている頂点の一次元座標が若い側ならBSQの1辺の長さと同じSQができるか調べ、
    そうでないならBSQの1辺の長さ+1のSQができるかを調べて、その結果によって解答が合っていたかを判定する
